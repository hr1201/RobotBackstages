import{d as E,a as t,k as P,b as m,o as u,l as d,w as l,E as b,c as k,n as B,e as x,i as o,t as A,F as C,S,m as i,D as F,G as L,_ as V}from"./index-a43a29e2.js";import{u as $}from"./index-ce2b67ad.js";import{a as G}from"./index-8acb998d.js";const T={class:"numText"},M={class:"numPosition"},O={class:"peopleNum"},R=["src","alt"],U=E({__name:"homePage",setup(j){const D=F(()=>L(()=>import("./BarChart-837f5f1e.js"),["assets/BarChart-837f5f1e.js","assets/index-a43a29e2.js","assets/index-3d8ffef1.css"])),p=$(),c=p.user.username,I=p.user.groupId;let _=t(0),g=t(0),v=t(0),h=t([]),f=t([]);async function N(){try{const s=await G(I);_.value=s.data.data.length,g.value=s.data.data.reduce((e,a)=>e+(a.duration||0)/_.value,0),s.data.data.forEach(e=>{var a,n;e.duration>25&&v.value++,(a=h.value)==null||a.push(e.userName),(n=f.value)==null||n.push(e.duration)})}catch{b.error("获取用户数量失败")}}N();const y=P(()=>[{span:8,userName:`${c}成员数`,num:_.value,svgImg:"/member.svg",svgAlt:"memberIcon"},{span:8,userName:`${c}平均时长`,num:g.value.toFixed(2)+"h",svgImg:"/time.svg",svgAlt:"timeIcon"},{span:8,userName:`${c}时长达标人数(>25h)`,num:v.value,svgImg:"/standard.svg",svgAlt:"standard"}]);return(s,e)=>{const a=m("el-card"),n=m("el-col"),w=m("el-row");return u(),d(w,{gutter:15},{default:l(()=>[(u(!0),k(C,null,B(y.value,r=>(u(),d(n,{span:8},{default:l(()=>[x(a,{shadow:"hover"},{default:l(()=>[o("div",null,[o("p",T,A(r.userName),1)]),o("div",M,[o("p",O,A(r.num),1),o("img",{src:r.svgImg,alt:r.svgAlt},null,8,R)])]),_:2},1024)]),_:2},1024))),256)),(u(),d(S,null,{default:l(()=>[x(i(D),{yAxisData:i(h),seriesData:i(f)},null,8,["yAxisData","seriesData"])]),_:1}))]),_:1})}}});const J=V(U,[["__scopeId","data-v-e45cc60e"]]);export{J as default};
