import{d as y,u as V,r as g,a as x,b as l,o as k,c as S,e as t,w as r,f as C,p as U,g as B,h,E as i,_ as E}from"./index-fae02cfc.js";import{l as N,g as q}from"./index-83ffd307.js";import{u as $}from"./index-9bdbe337.js";const w=d=>(U("data-v-7e5875b8"),d=d(),B(),d),G={class:"login"},M=w(()=>h("div",{class:"img-container"},null,-1)),P=w(()=>h("div",{class:"title"},"🥕萝卜项管",-1)),R=y({__name:"login",setup(d){const v=V(),m=$(),e=g({user:"",password:""}),f=x(),b=g({user:[{required:!0,message:"请输入账号",type:"string"}],password:[{required:!0,message:"请输入密码",type:"string"}]}),I=()=>{var c;(c=f.value)==null||c.validate(s=>{s?N(e.user,e.password).then(o=>{var a,n,u;o.data.code=="200"&&o.data.data?(i.success(`欢迎${e.user}管理员！！！`),m.setUser(e.user,(a=o.data.data)==null?void 0:a.groupId),q((n=o.data.data)==null?void 0:n.groupId).then(p=>{m.setuserImage(p.data.data.headUrl)}),v.push("/homePage"),sessionStorage.setItem("token",(u=o.data.data)==null?void 0:u.token)):i.error("账号或密码输入错误！！！")}):i.error("请输入完整！！！")})};return(c,s)=>{const o=l("el-input"),a=l("el-form-item"),n=l("el-button"),u=l("el-form"),p=l("el-card");return k(),S("div",G,[M,t(p,{class:"box-card"},{default:r(()=>[t(u,{ref_key:"form",ref:f,rules:b,model:e,class:"demo-form-inline"},{default:r(()=>[P,t(a,{prop:"user"},{default:r(()=>[t(o,{modelValue:e.user,"onUpdate:modelValue":s[0]||(s[0]=_=>e.user=_),placeholder:"请输入账号",clearable:""},null,8,["modelValue"])]),_:1}),t(a,{prop:"password"},{default:r(()=>[t(o,{"show-password":"",type:"password",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=_=>e.password=_),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(a,null,{default:r(()=>[t(n,{type:"primary",class:"btn-login",style:{height:"35px"},onClick:I},{default:r(()=>[C("登录")]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});const A=E(R,[["__scopeId","data-v-7e5875b8"]]);export{A as default};
