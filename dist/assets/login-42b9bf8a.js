import{d as V,u as x,r as h,a as b,b as l,o as k,c as S,e as t,w as r,f as C,g as U,p as B,h as E,i as w,E as i,_ as K}from"./index-c2bd9599.js";import{l as N,g as q}from"./index-d2b966e5.js";import{u as $}from"./index-4c43e805.js";const v=n=>(B("data-v-70e310cc"),n=n(),E(),n),G={class:"login"},M=v(()=>w("div",{class:"img-container"},null,-1)),P=v(()=>w("div",{class:"title"},"🥕萝卜项管",-1)),R=V({__name:"login",setup(n){const y=x(),m=$(),e=h({user:"",password:""}),f=b(),I=h({user:[{required:!0,message:"请输入账号",type:"string"}],password:[{required:!0,message:"请输入密码",type:"string"}]}),g=()=>{var c;(c=f.value)==null||c.validate(s=>{s?N(e.user,e.password).then(o=>{var a,d,u;o.data.code=="200"&&o.data.data?(i.success(`欢迎${e.user}管理员！！！`),m.setUser(e.user,(a=o.data.data)==null?void 0:a.groupId),q((d=o.data.data)==null?void 0:d.groupId).then(p=>{m.setuserImage(p.data.data.headUrl)}),sessionStorage.setItem("token",(u=o.data.data)==null?void 0:u.token),y.push("/homePage")):i.error("账号或密码输入错误！！！")}):i.error("请输入完整！！！")})};return(c,s)=>{const o=l("el-input"),a=l("el-form-item"),d=l("el-button"),u=l("el-form"),p=l("el-card");return k(),S("div",G,[M,t(p,{class:"box-card"},{default:r(()=>[t(u,{ref_key:"form",ref:f,rules:I,model:e,class:"demo-form-inline",onKeyup:C(g,["enter","native"])},{default:r(()=>[P,t(a,{prop:"user"},{default:r(()=>[t(o,{modelValue:e.user,"onUpdate:modelValue":s[0]||(s[0]=_=>e.user=_),placeholder:"请输入账号",clearable:""},null,8,["modelValue"])]),_:1}),t(a,{prop:"password"},{default:r(()=>[t(o,{"show-password":"",type:"password",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=_=>e.password=_),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(a,null,{default:r(()=>[t(d,{type:"primary",class:"btn-login",style:{height:"35px"},onClick:g},{default:r(()=>[U("登录")]),_:1})]),_:1})]),_:1},8,["rules","model","onKeyup"])]),_:1})])}}});const A=K(R,[["__scopeId","data-v-70e310cc"]]);export{A as default};
